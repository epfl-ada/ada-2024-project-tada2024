window vista , window server 2003 , window xp , window 2000 window nt part window nt famili ( nt-base ) microsoft oper system . preemptiv , reentrant oper system , design work either uniprocessor- symmetr multi processor ( smp ) -base intel x86 comput . process input/output ( i/o ) request us packet-driven i/o utilis i/o request packet ( irp ) asynchron i/o . start window xp , microsoft began build 64-bit support oper system — oper system base 32-bit model . architectur window nt highli modular , consist two main layer : user mode kernel mode . program subsystem user mode limit term system resourc access , kernel mode unrestrict access system memori extern devic . kernel oper system line known hybrid kernel - although worth note term disput , claim kernel essenti monolith kernel structur somewhat like microkernel . architectur compris hybrid kernel , hardwar abstract layer ( hal ) , driver , execut , exist kernel mode . higher-level servic implement execut . user mode window nt line made subsystem capabl pass i/o request appropri kernel mode softwar driver use i/o manag . two subsystem make user mode layer window 2000 : environ subsystem ( run applic written mani differ type oper system ) , integr subsystem ( oper system specif function behalf environ subsystem ) . kernel mode window 2000 full access hardwar system resourc comput . kernel mode stop user mode servic applic access critic area oper system access . execut interfac user mode subsystem . deal i/o , object manag , secur process manag . kernel sit hardwar abstract layer execut provid multiprocessor synchron , thread interrupt schedul dispatch , trap handl except dispatch . kernel also respons initialis devic driver bootup . kernel mode driver exist three level : highest level driver , intermedi driver low level driver . window driver model ( wdm ) exist intermedi layer mainli design binari sourc compat window 98 window 2000 . lowest level driver either legaci window nt devic driver control devic directli pnp hardwar bu . # # user mode user mode made subsystem pa i/o request appropri kernel mode driver via i/o manag ( exist kernel mode ) . two subsystem make user mode layer window 2000 : environ subsystem integr subsystem . environ subsystem design run applic written mani differ type oper system . none environ subsystem directli access hardwar , must request access memori resourc virtual memori manag run kernel mode . also , applic run lower prioriti kernel mode process . current , three main environ subsystem : win32 subsystem , os/2 subsystem posix subsystem . win32 environ subsystem run 32-bit window applic . contain consol well text window support , shutdown hard-error handl environ subsystem . also support virtual do machin ( vdm ) , allow ms-do 16-bit window 3.x ( win16 ) applic run window . specif ms-do vdm run address space emul intel 80486 run ms-do 5 . win16 program , howev , run win16 vdm . program , default , run process , thu use address space , win16 vdm give program thread run . howev , window 2000 allow user run win16 program separ win16 vdm , allow program preemptiv multitask window 2000 pre-empt whole vdm process , contain one run applic . os/2 environ subsystem support 16-bit character-bas os/2 applic emul os/2 1.x , 32-bit graphic os/2 applic use os/2 2.x later . posix environ subsystem support applic strictli written either posix.1 standard relat iso/ iec standard . integr subsystem look oper system specif function behalf environ subsystem . consist secur subsystem , workstat servic server servic . secur subsystem deal secur token , grant deni access user account base resourc permiss , handl logon request initi logon authent , determin system resourc need audit window 2000 . also look activ directori . workstat servic api network redirector , provid comput access network . server servic api allow comput provid network servic . # # kernel mode window 2000 kernel mode full access hardwar system resourc comput run code protect memori area . control access schedul , thread prioritis , memori manag interact hardwar . kernel mode stop user mode servic applic access critic area oper system access user mode process ask kernel mode perform oper behalf . kernel mode consist execut servic , made mani modul specif task , kernel driver , kernel hardwar abstract layer , hal . # # # execut execut interfac user mode subsystem . deal i/o , object manag , secur process manag . contain variou compon , includ i/o manag , secur refer monitor , object manag , ipc manag , virtual memori manag ( vmm ) , pnp manag power manag , well window manag work conjunct window graphic devic interfac ( gdi ) . compon export kernel-onli support routin allow compon commun one anoth . group togeth , compon call execut servic . execut compon access intern routin execut compon . object manag special execut subsystem execut subsystem must pa gain access window 2000 resourc — essenti make resourc manag infrastructur servic . object manag use reduc duplic object resourc manag function execut subsystem , could potenti lead bug make develop window 2000 harder . object manag , resourc object , whether resourc physic resourc ( file system peripher ) logic resourc ( file ) . object structur object type object manag must know . anoth execut subsystem request creation object , send request object manag creat empti object structur request execut subsystem fill . object type defin object procedur data specif object . way , object manag allow window 2000 object orient oper system , object type thought class defin object . instanc object creat store name , paramet pass object creation function , secur attribut pointer object type . object also contain object close procedur refer count tell object manag mani object system refer object therebi determin whether object destroy close request sent . everi object exist hierarch object namespac . execut subsystem follow : i/o manag : allow devic commun user-mod subsystem . translat user-mod read write command read write irp pass devic driver . accept file system i/o request translat devic specif call , incorpor low-level devic driver directli manipul hardwar either read input write output . also includ cach manag improv disk perform cach read request write disk background secur refer monitor ( srm ) : primari author enforc secur rule secur integr subsystem . determin whether object resourc access , via use access control list ( acl ) , made access control entri ( ace ) . ace contain secur identifi ( sid ) list oper ace give select group truste — user account , group account , logon session — permiss ( allow , deni , audit ) resourc . ipc manag : short interprocess commun manag , manag commun client ( environ subsystem ) server ( compon execut ) . use two facil : local procedur call ( lpc ) facil ( client server one comput ) remot procedur call ( rpc ) facil ( client server situat differ comput . microsoft signific secur issu rpc facil . virtual memori manag : manag virtual memori , allow window 2000 use hard disk primari storag devic ( although strictli speak secondari storag ) . control page memori physic memori disk storag . process manag : handl process thread creation termin pnp manag : handl plug play support devic detect instal boot time . also respons stop start devic demand — sometim happen bu gain new devic need devic driver load support devic . firewir usb hot-swapp requir servic pnp manag load , stop start devic . pnp manag interfac hal , rest execut ( necessari ) devic driver . power manag : power manag deal power event gener power irp . coordin power event sever devic send request turn determin best way . display system move user mode kernel mode devic driver contain file win32k.si . two compon devic driver — window manag gdi : window manag : respons draw window menu . control way output paint screen handl input event ( keyboard mous ) , pass messag applic need receiv input gdi : graphic devic interfac respons task draw line curv , render font handl palett . window 2000 introduc nativ alpha blend gdi . # # # kernel & kernel-mod driver kernel sit hal execut provid multiprocessor synchron , thread interrupt schedul dispatch , trap handl except dispatch . kernel often interfac process manag . kernel also respons initialis devic driver bootup necessari get oper system run . window 2000 us kernel-mod devic driver enabl interact hardwar devic . driver well defin system routin intern routin export rest oper system . devic seen user mode code file object i/o manag , though i/o manag devic seen devic object , defin either file , devic driver object . kernel mode driver exist three level : highest level driver , intermedi driver low level driver . highest level driver , file system driver fat ntf , reli intermedi driver . intermedi driver consist function driver — main driver devic — option sandwich lower higher level filter driver . function driver reli bu driver — driver servic bu control , adapt , bridg — option bu filter driver sit function driver . intermedi driver reli lowest level driver function . window driver model ( wdm ) exist intermedi layer . lowest level driver either legaci window nt devic driver control devic directli pnp hardwar bu . lower level driver directli control hardwar reli driver .. # # # hardwar abstract layer window 2000 hardwar abstract layer , hal , layer physic hardwar comput rest oper system . design hide differ hardwar therefor provid consist platform applic may run . hal includ hardwar specif code control i/o interfac , interrupt control multipl processor . window 2000 design support 64-bit dec alpha . compaq announc would discontinu support processor , microsoft stop releas test build window 2000 axp public , stop beta 3 . develop window alpha continu intern order continu 64-bit architectur develop model readi wider avail intel itanium ia-64 architectur . hal support hardwar compat intel x86 architectur .